#! /usr/bin/python
# The above line is here only for bat to treat this file as Python

# Imports
import shutil

# Aliases
aliases['ls'] = ['ls', '--color=auto', '-hv', '--group-directories-first']
aliases['cat'] = ['bat', '--paging=never']
aliases['vim'] = ['nvim']
aliases['config'] = ['/usr/bin/git', '--git-dir=$HOME/.cfg/', '--work-tree=$HOME']
aliases['wanip'] = ['dig', '+short', 'myip.opendns.com', '@resolver1.opendns.com']

if shutil.which('bpytop'):
	aliases['top'] = ['bpytop']

if ($TERM.__contains__('xterm')):
    aliases['ssh'] = ['kitty', '+kitten', 'ssh']

# Enviroment variables
$LANG = "en_US.UTF-8"
$LANGUAGE = "en_US.UTF-8"
$LC_ALL = "en_US.UTF-8"
$LC_CTYPE = "en_US.UTF-8"

$PROMPT = '{BOLD_BLUE}╭─{env_name}{BOLD_GREEN}{user}@{hostname}{BOLD_BLUE} {cwd}{branch_color}{curr_branch: {}}{RESET} {BOLD_BLUE}{prompt_end}\n╰>{RESET}'
$EDITOR = 'nvim'
$VISUAL = 'nvim'
$PATH.add(f'{$HOME}/.local/bin', front=False)
$BROWSER = 'qutebrowser'
$XDG_CONFIG_HOME = f'{$HOME}/.config'
$STARSHIP_CONFIG = f'{$XDG_CONFIG_HOME}/starship/config.toml'
$WEECHAT_HOME = f'{$XDG_CONFIG_HOME}/weechat'
$MOZ_ENABLE_WAYLAND = 1
$XDG_SESSION_TYPE = 'wayland'
$GDK_BACKEND = 'wayland'
$QT_QPA_PLATFORM = 'wayland'
$XDG_CURRENT_DESKTOP = 'Wayland / Qtile'
#$XKB_DEFAULT_LAYOUT = 'us'

# Start wm if on matching VT
if $(tty).strip() == "/dev/tty1":
	exec qtile start -b wayland

# If not in xterm don't start starship
if ($TERM.__contains__('xterm')):
    # Uncomment below if not using Starship
    #$PROMPT = '{BOLD_BLUE}╭─{env_name}{BOLD_GREEN}{user}@{hostname}{BOLD_BLUE} {cwd}{branch_color}{curr_branch: {}}{RESET} {BOLD_BLUE}{prompt_end}\n╰>{RESET}'
    execx($(starship init xonsh))
else:
    $PROMPT = '{env_name}{BOLD_GREEN}{user}@{hostname}{BOLD_BLUE} {cwd}{branch_color}{curr_branch: {}}{RESET} {BOLD_BLUE}{prompt_end}{RESET} '

